# EBS 서비스 어드바이저 검사항목 분석

## 개요
EBS 서비스 어드바이저는 Amazon Elastic Block Store의 보안, 비용 최적화 및 관리 효율성을 검사하여 스토리지 인프라를 최적화하도록 지원합니다.

## 검사항목 목록

### 1. EBS 볼륨 암호화 검사 (ebs-encryption-check)

#### 검사 목적
- **주요 목적**: 저장 데이터 보호를 위한 EBS 볼륨 암호화 상태 확인
- **데이터 보안**: 미암호화 볼륨으로 인한 데이터 유출 위험 방지

#### 심각도 기준: HIGH
**HIGH로 설정한 이유:**
1. **데이터 보호**: 암호화되지 않은 볼륨은 물리적 접근 시 데이터 노출 위험
2. **규제 준수**: 대부분의 보안 표준에서 저장 데이터 암호화 요구
3. **AWS 권장사항**: AWS 보안 모범 사례에서 기본 암호화 권장
4. **복구 불가능**: 데이터 유출 시 되돌릴 수 없는 피해

#### 검사 기준
- **FAIL 조건**: 암호화되지 않은 EBS 볼륨
- **PASS 조건**: 암호화된 EBS 볼륨
- **분석 대상**: 모든 EBS 볼륨의 암호화 상태

#### 권장 개선 방안
1. **기본 암호화 활성화**: 계정 수준에서 EBS 기본 암호화 설정
2. **기존 볼륨 암호화**: 미암호화 볼륨을 암호화된 볼륨으로 마이그레이션
3. **KMS 키 관리**: 고객 관리형 KMS 키 사용 고려
4. **정기적 검토**: 새로 생성되는 볼륨의 암호화 상태 모니터링

---

### 2. 사용하지 않는 EBS 볼륨 검사 (unused-volumes-check)

#### 검사 목적
- **주요 목적**: 인스턴스에 연결되지 않은 볼륨으로 인한 불필요한 비용 절감
- **비용 최적화**: 사용하지 않는 리소스 식별 및 정리

#### 심각도 기준: MEDIUM
**MEDIUM으로 설정한 이유:**
1. **비용 영향**: 즉시 보안 위험은 아니지만 지속적인 비용 발생
2. **관리 부담**: 사용하지 않는 리소스의 관리 복잡성 증가
3. **정리 필요성**: 정기적인 리소스 정리를 통한 효율성 향상
4. **예방적 조치**: 비용 증가 방지를 위한 사전 관리

#### 검사 기준
- **WARNING 조건**: 인스턴스에 연결되지 않은 EBS 볼륨
- **PASS 조건**: 인스턴스에 연결된 EBS 볼륨
- **분석 대상**: 모든 EBS 볼륨의 연결 상태

#### 권장 개선 방안
1. **정기적 검토**: 월간 미사용 볼륨 검토 및 정리
2. **스냅샷 생성**: 삭제 전 중요 데이터의 스냅샷 생성
3. **자동화**: 미사용 볼륨 자동 감지 및 알림 시스템 구축
4. **태그 관리**: 볼륨 용도 및 소유자 태그를 통한 관리 효율성 향상

---

### 3. EBS 스냅샷 관리 검사 (snapshot-management-check)

#### 검사 목적
- **주요 목적**: 스냅샷 수명주기 관리를 통한 비용 최적화
- **백업 관리**: 효율적인 백업 정책 수립 및 관리

#### 심각도 기준: LOW
**LOW로 설정한 이유:**
1. **점진적 개선**: 즉시 위험하지는 않지만 장기적 관리 필요
2. **비용 효율성**: 오래된 스냅샷으로 인한 점진적 비용 증가
3. **관리 편의성**: 체계적인 스냅샷 관리를 통한 운영 효율성
4. **예방적 관리**: 문제가 커지기 전 사전 관리

#### 검사 기준
- **WARNING 조건**: 90일 이상 된 스냅샷
- **FAIL 조건**: 비정상 상태의 스냅샷
- **PASS 조건**: 정상 상태의 최신 스냅샷
- **분석 대상**: 모든 EBS 스냅샷의 상태 및 생성 날짜

#### 권장 개선 방안
1. **수명주기 정책**: Data Lifecycle Manager를 통한 자동 스냅샷 관리
2. **정기적 정리**: 불필요한 오래된 스냅샷 삭제
3. **태그 관리**: 스냅샷 용도 및 보존 기간 태그 설정
4. **자동화**: 스냅샷 생성 및 삭제 자동화

---

### 4. EBS 퍼블릭 스냅샷 검사 (public-snapshots-check)

#### 검사 목적
- **주요 목적**: 퍼블릭으로 설정된 스냅샷으로 인한 데이터 유출 위험 방지
- **데이터 보안**: 의도하지 않은 데이터 노출 차단

#### 심각도 기준: HIGH
**HIGH로 설정한 이유:**
1. **즉각적 위험**: 퍼블릭 스냅샷은 누구나 접근 가능한 심각한 보안 위험
2. **데이터 유출**: 민감한 정보, 데이터베이스, 소스코드 등 노출 가능
3. **실제 사고**: 많은 기업이 실수로 퍼블릭 스냅샷 생성하여 데이터 유출 사고 발생
4. **복구 불가능**: 한번 노출된 데이터는 되돌릴 수 없음

#### 검사 기준
- **FAIL 조건**: 퍼블릭으로 설정된 EBS 스냅샷
- **PASS 조건**: 프라이빗으로 설정된 EBS 스냅샷
- **분석 대상**: 모든 EBS 스냅샷의 권한 설정 (createVolumePermission)

#### 위험도 평가
- **최고 위험**: 퍼블릭 + 비암호화 스냅샷
- **높은 위험**: 퍼블릭 + 암호화 스냅샷
- **안전**: 프라이빗 스냅샷

#### 권장 개선 방안
1. **즉시 조치**: 퍼블릭 스냅샷을 즉시 프라이빗으로 변경
2. **기본 설정 확인**: 스냅샷 생성 시 기본적으로 프라이빗 설정 확인
3. **정기적 검토**: 월간 스냅샷 권한 검토 및 감사
4. **암호화 필수**: 민감한 데이터 포함 스냅샷은 반드시 암호화
5. **접근 제어**: 필요한 경우에만 특정 계정과 스냅샷 공유
6. **모니터링**: 스냅샷 권한 변경 시 자동 알림 설정

## 검사 항목별 심각도 분포

### 총 검사 항목: 4개

### HIGH (높음) - 즉시 조치 필요 (2개)
- EBS 볼륨 암호화 검사
- EBS 퍼블릭 스냅샷 검사

### MEDIUM (중간) - 계획적 개선 필요 (1개)
- 사용하지 않는 EBS 볼륨 검사

### LOW (낮음) - 점진적 개선 필요 (1개)
- EBS 스냅샷 관리 검사